package cross

import (
	"math/big"
	"strings"
	"web3_gui/chain/evm/abi"
	"web3_gui/chain/evm/common"
)

const (
	OUTBOX_ABI = "[{\"inputs\":[],\"name\":\"AlreadyInit\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"AlreadySpent\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BridgeCallFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"HadZeroInit\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"actualLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxProofLength\",\"type\":\"uint256\"}],\"name\":\"MerkleProofTooLong\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rollup\",\"type\":\"address\"}],\"name\":\"NotRollup\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxIndex\",\"type\":\"uint256\"}],\"name\":\"PathNotMinimal\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proofLength\",\"type\":\"uint256\"}],\"name\":\"ProofTooLong\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SimulationOnlyEntrypoint\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"root\",\"type\":\"bytes32\"}],\"name\":\"UnknownRoot\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"l2Sender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"zero\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"transactionIndex\",\"type\":\"uint256\"}],\"name\":\"OutBoxTransactionExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"outputRoot\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"l2BlockHash\",\"type\":\"bytes32\"}],\"name\":\"SendRootUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"OUTBOX_VERSION\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nodeNum\",\"type\":\"uint256\"},{\"internalType\":\"bytes32[]\",\"name\":\"hashes\",\"type\":\"bytes32[]\"}],\"name\":\"addWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"bridge\",\"outputs\":[{\"internalType\":\"contractIBridge\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"l2Sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"l2Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l1Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l2Timestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"calculateItemHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"proof\",\"type\":\"bytes32[]\"},{\"internalType\":\"uint256\",\"name\":\"path\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"item\",\"type\":\"bytes32\"}],\"name\":\"calculateMerkleRoot\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nodeNum\",\"type\":\"uint256\"}],\"name\":\"confirm\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"proof\",\"type\":\"bytes32[]\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"l2Sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"l2Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l1Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l2Timestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"executeTransaction\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"l2Sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"l2Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l1Block\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"l2Timestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"executeTransactionSimulation\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"hashNodeNum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contractIBridge\",\"name\":\"_bridge\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"isSpent\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1BatchNum\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1Block\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1EthBlock\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1OutputId\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1Sender\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"l2ToL1Timestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"nodeConfirm\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rollup\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"roots\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"spent\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"root\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"l2BlockHash\",\"type\":\"bytes32\"}],\"name\":\"updateSendRoot\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"l2BlockHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"withdrawHashes\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"withdrawed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]"
	OUTBOX_BIN = "60a06040523060805234801561001457600080fd5b50608051611829610030600039600061072301526118296000f3fe608060405234801561001057600080fd5b50600436106101625760003560e01c8063a04cee60116100ce578063cb23bcb511610087578063cb23bcb5146102e1578063cf0d9098146102f4578063d12e72a114610307578063d5b5cc2314610327578063dca40d9e14610347578063e78cea921461036a578063e965c7531461037d57600080fd5b8063a04cee6014610260578063ae6dead714610273578063b0f3053714610293578063ba0179b51461029b578063c4d66de8146102ae578063c75184df146102c157600080fd5b80635a129efe116101205780635a129efe146101d75780635eaf3536146101fa57806372f2a8c71461021d57806380648b02146102255780638515bc6a146102455780639f0c04bf1461024d57600080fd5b80627436d31461016757806308635a951461018d57806311985271146101a2578063288e5b10146101a957806346547790146101bc57806353b64611146101c4575b600080fd5b61017a6101753660046110a2565b610390565b6040519081526020015b60405180910390f35b6101a061019b3660046111fb565b6103cd565b005b600061017a565b6101a06101b73660046112cc565b610440565b61017a61047b565b6101a06101d2366004611367565b6104aa565b6101ea6101e53660046113b2565b61055d565b6040519015158152602001610184565b6101ea6102083660046113b2565b60096020526000908152604090205460ff1681565b61017a61057a565b61022d610597565b6040516001600160a01b039091168152602001610184565b61017a6105b8565b61017a61025b3660046113cb565b6105e0565b6101a061026e366004611459565b610625565b61017a6102813660046113b2565b60036020526000908152604090205481565b61017a6106a0565b6101a06102a93660046113b2565b6106c1565b6101a06102bc36600461147b565b610718565b6102c9600281565b6040516001600160801b039091168152602001610184565b60005461022d906001600160a01b031681565b6101a061030236600461149f565b6108ff565b61017a6103153660046113b2565b600a6020526000908152604090205481565b61017a6103353660046113b2565b60026020526000908152604090205481565b6101ea6103553660046113b2565b600b6020526000908152604090205460ff1681565b60015461022d906001600160a01b031681565b61017a61038b366004611459565b610a21565b60006103c58484846040516020016103aa91815260200190565b60405160208183030381529060405280519060200120610a52565b949350505050565b60006103df89898989898989896105e0565b90506104218c8c808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508e9250859150610af59050565b6104328a8a8a8a8a8a8a8a8a610bfe565b505050505050505050505050565b331561045f57604051630e13b69d60e01b815260040160405180910390fd5b610470898989898989898989610bfe565b505050505050505050565b6004546000906001600160801b039081169081141561049c57600091505090565b6001600160801b0316919050565b6000546001600160a01b031633146104ef57600054604051630e4cf1bf60e21b81526104e69133916001600160a01b03909116906004016114cb565b60405180910390fd5b6000838152600860205260409020610508908383610ffc565b5060005b818110156105575783600a600085858581811061052b5761052b6114e5565b90506020020135815260200190815260200160002081905550808061054f90611511565b91505061050c565b50505050565b600080600061056b84610ee8565b92509250506103c58282610f25565b60065460009060001981141561059257506000919050565b919050565b6007546000906001600160a01b039081169081141561059257600091505090565b6004546000906001600160801b03600160801b90910481169081141561049c57600091505090565b6000888888888888888860405160200161060198979695949392919061152c565b60405160208183030381529060405280519060200120905098975050505050505050565b6000546001600160a01b0316331461066157600054604051630e4cf1bf60e21b81526104e69133916001600160a01b03909116906004016114cb565b60008281526003602052604080822083905551829184917fb4df3847300f076a369cd76d2314b470a1194d9e8a6bb97f1860aee88a5f67489190a35050565b6005546000906001600160801b039081169081141561049c57600091505090565b6000546001600160a01b031633146106fd57600054604051630e4cf1bf60e21b81526104e69133916001600160a01b03909116906004016114cb565b6000908152600960205260409020805460ff19166001179055565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614156107a65760405162461bcd60e51b815260206004820152602c60248201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060448201526b19195b1959d85d1958d85b1b60a21b60648201526084016104e6565b6001600160a01b0381166107cd57604051631ad0f74360e01b815260040160405180910390fd5b6001546001600160a01b0316156107f757604051633bcd329760e21b815260040160405180910390fd5b6040805160a0810182526001600160801b038082526020808301829052828401829052600019606084018190526001600160a01b0360809094018490526004818155600580546001600160801b031916909417909355600655600780546001600160a01b03199081168517909155600180549487169490911684179055835163cb23bcb560e01b81529351929363cb23bcb593818401939091829003018186803b1580156108a457600080fd5b505afa1580156108b8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108dc9190611585565b600080546001600160a01b0319166001600160a01b039290921691909117905550565b60408051602081018490529081018490523360608201526080810182905260009060a00160408051601f1981840301815291815281516020928301206000818152600b90935291205490915060ff161561098b5760405162461bcd60e51b815260206004820152600d60248201526c1a5cc81dda5d1a191c985dd959609a1b60448201526064016104e6565b6000818152600a60209081526040808320548352600990915290205460ff1615156001146109ee5760405162461bcd60e51b815260206004820152601060248201526f6e6f6465206e6f7420636f6e6669726d60801b60448201526064016104e6565b6000818152600b60209081526040808320805460ff19166001179055805191820190529081526105579033908490610f34565b60086020528160005260406000208181548110610a3d57600080fd5b90600052602060002001600091509150505481565b8251600090610100811115610a8557604051637ed6198f60e11b81526004810182905261010060248201526044016104e6565b8260005b82811015610aeb576000878281518110610aa557610aa56114e5565b60200260200101519050816001901b871660001415610ad257826000528060205260406000209250610ae2565b8060005282602052604060002092505b50600101610a89565b5095945050505050565b610100835110610b1d57825160405163ab6a068360e01b81526004016104e691815260200190565b8251610b2a906002611686565b8210610b61578183516002610b3f9190611686565b604051630b8a724b60e01b8152600481019290925260248201526044016104e6565b6000610b6e848484610390565b600081815260036020526040902054909150610ba0576040516310e61af960e31b8152600481018290526024016104e6565b6000806000610bae86610ee8565b925092509250610bbe8282610f25565b15610bdf57604051639715b8d360e01b8152600481018790526024016104e6565b600092835260026020526040909220600190911b909117905550505050565b6000886001600160a01b0316886001600160a01b03167f20af7f3bbfe38132b8900ae295cd9c8d1914be7052d061a511f3f728dab189648c604051610c4591815260200190565b60405180910390a4600060046040518060a00160405290816000820160009054906101000a90046001600160801b03166001600160801b03166001600160801b031681526020016000820160109054906101000a90046001600160801b03166001600160801b03166001600160801b031681526020016001820160009054906101000a90046001600160801b03166001600160801b03166001600160801b03168152602001600282015481526020016003820160009054906101000a90046001600160a01b03166001600160a01b03166001600160a01b03168152505090506040518060a00160405280886001600160801b03168152602001876001600160801b03168152602001866001600160801b031681526020018b60001b81526020018a6001600160a01b0316815250600460008201518160000160006101000a8154816001600160801b0302191690836001600160801b0316021790555060208201518160000160106101000a8154816001600160801b0302191690836001600160801b0316021790555060408201518160010160006101000a8154816001600160801b0302191690836001600160801b031602179055506060820151816002015560808201518160030160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550905050610e76888585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610f3492505050565b805160208201516001600160801b03918216600160801b91831691909102176004556040820151600580546001600160801b03191691909216179055606081015160065560800151600780546001600160a01b0319166001600160a01b03909216919091179055505050505050505050565b6000808080610ef860ff866116a8565b90506000610f0760ff876116bc565b60008381526002602052604090205492979096509194509092505050565b80821c60011615155b92915050565b600154604051639e5d4c4960e01b815260009182916001600160a01b0390911690639e5d4c4990610f6d908890889088906004016116fc565b600060405180830381600087803b158015610f8757600080fd5b505af1158015610f9b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610fc39190810190611745565b9150915081610ff557805115610fdc5780518082602001fd5b604051631bb7daad60e11b815260040160405180910390fd5b5050505050565b828054828255906000526020600020908101928215611037579160200282015b8281111561103757823582559160200191906001019061101c565b50611043929150611047565b5090565b5b808211156110435760008155600101611048565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b038111828210171561109a5761109a61105c565b604052919050565b6000806000606084860312156110b757600080fd5b83356001600160401b03808211156110ce57600080fd5b818601915086601f8301126110e257600080fd5b81356020828211156110f6576110f661105c565b8160051b9250611107818401611072565b828152928401810192818101908a85111561112157600080fd5b948201945b8486101561113f57853582529482019490820190611126565b9a918901359950506040909701359695505050505050565b60008083601f84011261116957600080fd5b5081356001600160401b0381111561118057600080fd5b6020830191508360208260051b850101111561119b57600080fd5b9250929050565b6001600160a01b03811681146111b757600080fd5b50565b60008083601f8401126111cc57600080fd5b5081356001600160401b038111156111e357600080fd5b60208301915083602082850101111561119b57600080fd5b60008060008060008060008060008060006101208c8e03121561121d57600080fd5b6001600160401b03808d35111561123357600080fd5b6112408e8e358f01611157565b909c509a5060208d0135995061125960408e01356111a2565b60408d0135985061126d60608e01356111a2565b60608d0135975060808d0135965060a08d0135955060c08d0135945060e08d01359350806101008e013511156112a257600080fd5b506112b48d6101008e01358e016111ba565b81935080925050509295989b509295989b9093969950565b60008060008060008060008060006101008a8c0312156112eb57600080fd5b8935985060208a01356112fd816111a2565b975060408a013561130d816111a2565b965060608a0135955060808a0135945060a08a0135935060c08a0135925060e08a01356001600160401b0381111561134457600080fd5b6113508c828d016111ba565b915080935050809150509295985092959850929598565b60008060006040848603121561137c57600080fd5b8335925060208401356001600160401b0381111561139957600080fd5b6113a586828701611157565b9497909650939450505050565b6000602082840312156113c457600080fd5b5035919050565b60008060008060008060008060e0898b0312156113e757600080fd5b88356113f2816111a2565b97506020890135611402816111a2565b965060408901359550606089013594506080890135935060a0890135925060c08901356001600160401b0381111561143957600080fd5b6114458b828c016111ba565b999c989b5096995094979396929594505050565b6000806040838503121561146c57600080fd5b50508035926020909101359150565b60006020828403121561148d57600080fd5b8135611498816111a2565b9392505050565b6000806000606084860312156114b457600080fd5b505081359360208301359350604090920135919050565b6001600160a01b0392831681529116602082015260400190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600019821415611525576115256114fb565b5060010190565b60006bffffffffffffffffffffffff19808b60601b168352808a60601b16601484015250876028830152866048830152856068830152846088830152828460a8840137506000910160a801908152979650505050505050565b60006020828403121561159757600080fd5b8151611498816111a2565b600181815b808511156115dd5781600019048211156115c3576115c36114fb565b808516156115d057918102915b93841c93908002906115a7565b509250929050565b6000826115f457506001610f2e565b8161160157506000610f2e565b816001811461161757600281146116215761163d565b6001915050610f2e565b60ff841115611632576116326114fb565b50506001821b610f2e565b5060208310610133831016604e8410600b8410161715611660575081810a610f2e565b61166a83836115a2565b806000190482111561167e5761167e6114fb565b029392505050565b600061149883836115e5565b634e487b7160e01b600052601260045260246000fd5b6000826116b7576116b7611692565b500490565b6000826116cb576116cb611692565b500690565b60005b838110156116eb5781810151838201526020016116d3565b838111156105575750506000910152565b60018060a01b0384168152826020820152606060408201526000825180606084015261172f8160808501602087016116d0565b601f01601f191691909101608001949350505050565b6000806040838503121561175857600080fd5b8251801515811461176857600080fd5b60208401519092506001600160401b038082111561178557600080fd5b818501915085601f83011261179957600080fd5b8151818111156117ab576117ab61105c565b6117be601f8201601f1916602001611072565b91508082528660208285010111156117d557600080fd5b6117e68160208401602086016116d0565b508092505050925092905056fea264697066735822122015f058ff553416f8223a484f425b26c038ed84c805819e42a78aaf042360805b64736f6c63430008090033"
)

// 构建提现
func BuildWithdraw(txHash common.Hash, l2BlockHash common.Hash, value *big.Int) string {
	abiObj, _ := abi.JSON(strings.NewReader(OUTBOX_ABI))
	input, _ := abiObj.Pack("withdraw", txHash, l2BlockHash, value)
	return common.Bytes2Hex(input)
}
